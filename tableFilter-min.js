const loadingUi=e=>{const t=document.createElement("div");return Object.assign(t.style,{position:"fixed",display:"flex",flexDirection:"column",left:"50%",top:"50%",background:"white",padding:"20px",transform:"translate(-50%, -50%)",boxShadow:"2px 2px 5px black",zIndex:"11",maxHeight:"400px",overflow:"auto"}),t.innerText=e,t.id="saveReportTOTXT",t},filterStrings=(e,t,n)=>""===e||n[t].includes(e),updateRows=(e,t,n,o,i,a=0)=>{if(e>=t.length)return void i.remove();const l=o.every(((t,o)=>filterStrings(t,o,n[e])));t[e].style.display=l?"table-row":"none",a%2e3==0?(i.innerText="czekaj... pozostaÅ‚o mi "+(t.length-e)+" do sprawdzenia",requestAnimationFrame((()=>updateRows(e+1,t,n,o,i,a+1)))):updateRows(e+1,t,n,o,i,a+1)},handleInputFilter=(e,t)=>{const n=loadingUi("czekaj..");document.body.appendChild(n);const o=e.rows,i=[...o].map((e=>[...e.cells].map((e=>replacePolish(e.innerText.toLowerCase()))))),a=[...t.cells].map((e=>replacePolish(e.firstChild.value.toLowerCase())));updateRows(2,o,i,a,n)};function debounce(e,t){let n;return function(...o){const i=this;clearTimeout(n),n=setTimeout((()=>e.apply(i,o)),t)}}const addFiltrationHeader=(e,t)=>{const n=t.insertCell(),o=document.createElement("input");o.style.width="calc(100% - 5px)";const i=debounce(handleInputFilter,500);o.addEventListener("input",(n=>i(e,t))),n.appendChild(o)},addFiltration=e=>{const[t]=e.rows,n=e.insertRow(0);[...t.cells].forEach((()=>addFiltrationHeader(e,n)))};